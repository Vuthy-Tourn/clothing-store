:8080 {
    # Root folder for Laravel
    root * /app/public

    # Hide sensitive files
    file_server hide .env* "Caddyfile"

    # Compress responses
    encode zstd gzip br

    # Serve PHP via FrankenPHP
    php_fastcgi unix//run/frankenphp.sock

    # Laravel routing: try to serve file, fallback to index.php
    try_files {path} /index.php?{query}

    # Optional: log to console (Railway-friendly)
    log {
        output stdout
        format console
    }
}